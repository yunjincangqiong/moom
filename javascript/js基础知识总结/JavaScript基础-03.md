## 数组

### 数组的概念

- 数组就是一组数据的集合
- 数组中存放的数据是有顺序的
- 数组中可以存放任意数据类型的数据
- 数组有长度且可以动态调整



### 数组的定义

```javascript
// 创建一个空数组
// 字面量
var arr = []; 
// 构造函数
var arr = new Array();

// 特殊: 以下为创建一个包含3个元素的数组, 每个值都为 undefined
var arr = new Array(3);
// 创建一个包含3个数值的数组，多个数组项以逗号隔开
var arr = [1, 'a', [2]]; 

// 可以通过数组的 length 属性获取数组的长度
console.log(arr.length);
// 可以设置 length 属性改变数组中元素的个数
arr3.length = 3;
```



### 设置数组长度

- 数组的长度除了获取还可以进行设置，如果设置的值小于当前数组的长度，多余的值将会被删除，如果设置的值大于当前数组的长度，那么多余位置的值将会是 undefined




### 获取数组元素

```javascript
// 格式：数组名[索引]	索引又称下标
// 功能：获取数组对应下标的那个值，如果下标不存在，则返回undefined。
var arr = ['red', 'green', 'blue'];
arr[0];	// red
arr[2]; // blue
arr[3]; // 这个数组的最大索引为2, 因此返回 undefined
arr[arr.length-1]; // 获取数组中的最后一个值
```



### 删除数组元素

```js
// 注意 delete 会删除数组的值 但是不会改变数组的长度
例: var arr = [1]; delete arr[0]; console.log(arr[0]); // undefined
console.log(arr.length); // 1
```



### 遍历数组

> 遍历：遍及所有（循环），循环的过程就是访问数组元素的过程。

数组遍历的基本语法 - for循环：

```javascript
for(var i = 0; i < arr.length; i++) {
  // 获取并处理数组数据	
  arr[i]
}
```

forEach 方法: 

```js
// v 为数组单个数据; i 为对应的数组索引; arr 为数组本身
arr.forEach(function (v, i, arr) {
  // 处理数组
})
```

### 数组元素的新增, 获取和设置

```javascript
// 格式：数组名[下标/索引] = 值;
// 如果下标有对应的值，会把原来的值覆盖，如果下标不存在，会给数组新增一个元素。
var arr = ["red", "green", "blue"];
// 把red替换成了yellow
arr[0] = "yellow";
// 给数组新增加了一个pink的值
arr[3] = "pink";
// 如果添加的索引值大于当前length, 中间空的值都为 undefined
arr[6] = 0;
arr[5] // undefined
// 向数组的最后添加一个值
arr[arr.length] = "purple"
```



## 函数

### 什么是函数

把一段相对独立的具有特定功能的代码块封装起来，就是函数，函数可以有名字，在后续开发中可以反复调用

### 函数的定义

#### 匿名函数

没有名字的函数, 常用于函数表达式, 自调用函数和回调函数; 由于没有函数名所以没办法显示调用

```
function () {}
```

#### 具名函数

拥有名字的函数, 常用于函数声明, 事件绑定和解绑; 可以多次显示调用

```
function name() {}
```

#### 函数声明

存在变量提升

```javascript
function 函数名(){
  // 函数体
}
```

#### 函数表达式

不存在变量提升

```js
// 基本语法
var 函数名 = function () {
  // 函数体
}

// 特殊
var 函数名1 = function 函数名2() {
  // 函数体
}
// 函数名2在外面拿不到, 为未定义; 只有在其函数体中可以拿到函数名2
```

+ 函数定义的时候，函数体并不会执行，只要当函数被调用的时候才会执行。


#### 函数的声明式和表达式

 ```
声明式: function 函数名(){ 函数体 }
声明形态的特征是一个 在全局范围 或 在某一个函数内 的顶级语法层实现;顶级语法层, 独立与其他任何代码
声明式形态在声明时不可以直接调用
注意一下,声明式不建议放到 if, 循环等结构中(有浏览器兼容性问题)

表达式: 是放在一条语句中的 函数形式的语法;一般放在一个圆括号内, 或一段运算式的结构中
例如: (function [函数名]() {函数体}()); 或者 var fn = function [函数名]() {函数体};
表达式形态在声明时可以直接调用
 ```

### 函数的调用

- 调用函数的语法：

```javascript
函数名();
```

- 特点：

  可以调用多次(重复使用)

代码示例：

```javascript
// 声明函数
function sayHi() {
  console.log("吃了没？");
}
// 调用函数
sayHi();
```

### 函数的参数

- 语法：

```javascript
// 在函数内部 如果某一个值不确定 可以将这个值在函数调用的时候以参数的形式传递进来 可以使函数的功能更加灵活
// 函数内部是一个封闭的环境，可以通过参数的方式，把外部的值传递给函数内部

// 带参数的函数声明
function 函数名(形参1, 形参2, 形参...){
  // 函数体
}

// 带参数的函数调用
函数名(实参1, 实参2, 实参3);
```

- 形参和实参

  > 1. 形式参数：在声明一个函数的时候，为了函数的功能更加灵活，有些值是固定不了的，对于这些固定不了的值，我们可以给函数设置参数。这个参数没有具体的值，仅仅起到一个占位置的作用，我们通常称之为形式参数，也叫形参。
  > 2. 实际参数：如果函数在声明时，设置了形参，那么在函数调用的时候就需要传入对应的参数，我们把传入的参数叫做实际参数，也叫实参。

```javascript
var x = 5, y = 6;
function fn(a, b) {
  console.log(a + b);
}
fn(x, y); 
// x, y为 实参; a, b 为形参; 
// 实参有具体的值。函数执行的时候会把x, y存贮的值复制一份给函数内部的a, b，函数内部的值是复制的新值，无法修改外部的x, y(复杂数据类型可以修改)
```

- 形参和实参的个数问题

```javascript
形参数量和实参数量不一致, 但是可以执行.
形参数多于实参数: 多余的形参值为 undefined , 相当于变量定义但未赋值;
实参数多于形参数: 多余的实参被忽略, 但是可以在 arguments 中拿到.
```

### 函数的返回值

> 返回值语法：

```javascript
// 声明一个带返回值的函数
function 函数名(){
  // 函数体
  return 返回值;
}

// 函数调用之后就会返回返回值, 可以通过变量来接收这个返回值
var 变量 = 函数名();
```

返回值详解：

```js
// 以下情况默认返回 undefined
function add(x, y) {
  var sum = x + y;
  //情况一 没有return
  //return; 情况二 有return 无返回值
  //情况三 return和返回值没在同一行
  return //相当于自动添加; 将上下分为两句
  100;   //也是没有返回值的
}
在函数内部 从 return 语句的下一行开始 后面的代码都不会再执行了
一个函数只能有一个返回值
返回值可以是任意数据类型
```

### arguments

函数实参集合，在函数内部使用，是一个伪数组.

```js
function fn() {
  console.log(arguments[0] + arguments[1]);
  // 函数自己本身
  arguments.callee
  // 实参的个数
  arguments.length
}
fn(1, 2); // 3
```

### 注意事项

```javascript
function fn(){
    console.log('函数执行了');
}
console.log(fn()) // 调用函数
console.log(fn)   // 输出函数定义
```

## 函数其它

### 自调用函数(IIFE)

又名  沙箱 黑盒 环境

函数的定义和执行是同时发生的。

作用：自身为一个封闭的作用域, 可以防止全局变量污染; 代码立即执行一次;

```javascript
// 写法1 
(function ([形参]) {
	函数体
})([实参]);
// 写法2 
(function ([形参]) {
	函数体
}([实参]));
```

### 回调函数

函数可以作为另一个函数的形参使用, 作为形参的那个函数就叫回调函数( callback )

```js
function f2(x, y) {
  return x - y;
}

function ff(x, y, fn) {
  //fn 就是一个回调函数, 可以向回调函数中传参
  return fn(x, y);
}

var result = ff(10, 20, f2);
console.log(result);
```

### 函数是一种数据类型

```javascript
function fn() {}
console.log(typeof fn); // function
```

- 函数作为参数(回调函数)

因为函数也是一种数据类型，可以把函数作为另一个函数的参数，在另一个函数中使用.

- 函数做为返回值

因为函数是一种数据类型，所以可以把函数可以作为返回值从函数内部返回。

```js
function fn(b) {
  var a = 10;
  return function () {
    console.log(a + b);
  }
}
fn(15)();
```
