## 运算符

运算符用于执行程序代码运算

### 算术运算符

#### 二元运算符

+ 需要两个操作符

```text
+ - * / %   加 减 乘 除 取余 
例:  a = b % c;
```

+ 特殊: + - 单独使用时为正负符号
  - 会将后面的值强制转换为数字, 转换规则与Number()一致
  - 技巧: 了以利用这个特性将字符串转换为数字   eg:  +'123'    // 123

#### 位运算符

**存在隐式转换会将纯数字字符串隐式转换为数字**

##### 二元位运算符

+ 或位运算符   |
  + 按位或运算:  两边只要有 1 即为 1, 全为 0 才为 0
  + 两边数字先转换成 2 进制, 在进行按位或运算, 计算结果在转换为10进制
+ 与位运算符   &
  + 按位与运算:  两边只要有 0 即为 0, 全为 1 才为 1
  + 两边数字先转换成 2 进制, 在进行按位与运算, 计算结果在转换为10进制
+ 异或位运算符   ^
  - 按位异或运算:  不同为 1, 相同为 0
  - 两边数字先转换成 2 进制, 在进行按位异或运算, 计算结果在转换为10进制

##### 一元位运算符

+ 非位运算符  ~
  + 按位非运算:  对0, 1进行取反, 即 0 为 1, 1 为 0
  + 数字先转换成 2 进制, 在进行按位非运算, 计算结果在转换为10进制
+ 技巧可以是用 ~~ 对表达式/值进行强行取整
  + ~~true  // 1         ~~1.123123   //   1

#### 一元运算符

+ ++     --

一元运算符：只需要一个操作数的运算符

- 前置++

  ```javascript
  var num1 = 5;
  // 单独使用时为自身加1
  ++ num1; 
  var num2 = 6;
  console.log(num1 + ++ num2); // 12
  ```

- 后置++

  ```javascript
  var num1 = 5;
  // 单独使用时为自身加1
  num1 ++;
  var num2 = 6;
  console.log(num1 + num2 ++); // 11
  ```

- 猜猜看

  ```javascript
  var a = 1; var b = ++a + ++a; console.log(b); // 5
  var a = 1; var b = a++ + ++a; console.log(b); // 4
  var a = 1; var b = a++ + a++; console.log(b); // 3
  var a = 1; var b = ++a + a++; console.log(b); // 4
  ```

  **总结**
  **前置++：先自身加1， 在参与当前运算**
  **后置++：先参与当前运算, 在自身加1**
  **前置--  ：先自身减1，在参与当前运算**
  **后置--  ：先参与当前运算, 在自身减1**

### 比较运算符(关系运算符)

|  符号  |       含义        |
| :--: | :-------------: |
|  <   |       小于        |
|  >   |       大于        |
|  <=  |      小于等于       |
|  >=  |      大于等于       |
|  !=  |   不等于(存在隐式转换)   |
|  ==  |   等于(存在隐式转换)    |
| !==  | 严格不等于(类型和值都不相同) |
| ===  |  严格等于(类型和值都相同)  |

```javascript
== 判断值 不判断类型 (不严格)
=== 判断值 判断类型（严格）

var result = '55' == 55;  	// true
var result = '55' === 55; 	// false 值相等，类型不相等
var result = 55 === 55; 	// true

1> 基本类型与基本类型
==  会对数据进行转换, 再进行比较
=== 会先比较类型, 然后再比较值

2> 引用类型与引用类型
无论是 == 还是 === 都比较的是地址

3> 引用类型 与 基本类型
==  会将引用类型转换成 基本类型 再比较
=== 永远为 false
```

### 逻辑运算符(布尔运算符)

逻辑运算符可以同时判断多个条件

| 符号   | 含义   |                                |
| ---- | ---- | ------------------------------ |
| &&   | 与    | 两个操作数同时为true，结果为true，否则为false  |
| \|\| | 或    | 两个操作数有一个为true，结果为true，否则为false |
| !    | 非    | 对当前操作数取反                       |

#### 逻辑中断

+ &&

  + 符号左边的值为 true 时, 返回符号右边的值

    + ```javascript
      console.log(1 && 2) // 2
      ```

  + 符号左边的值为 false 时, 返回符号左边的值, 且右边的表达式不执行

    + ```javascript
      var a = 1;
      0 && (a++); // 返回值为0 ;  且 a 仍然等于 1
      ```

+ ||

  + 符号左边的值为 true 时, 返回符号左边的值, 且右边的表达式不执行

    - ```javascript
      var a = 1;
      1 || (a++); // 返回值为0 ;  且 a 仍然等于 1
      ```

  + 符号左边的值为 false 时, 返回符号右边的值

    + ```javascript
      console.log(1 || 2) // 1
      ```

### 赋值运算符

```javascript
// 将 = 右边的值或者表达式运算之后的值, 赋值给左边的变量
var num = 1 + 1;
```



#### 复合赋值运算符

```javascript
a += b;  等于  a = a + b
a -= b;  等于  a = a - b
a *= b;  等于  a = a * b
a /= b;  等于  a = a / b
a %= b;  等于  a = a % b
```

### 运算符的优先级

以下数据节选自MDN

| 优先级  | 运算类型        | 关联性  | 运算符              |
| ---- | ----------- | ---- | ---------------- |
| 20   | 圆括号         | n/a  | `( … )`          |
| 19   | 成员访问        | 从左到右 | `… . …`          |
|      | 需计算的成员访问    | 从左到右 | `… [ … ]`        |
|      | new(带参数列表)  | n/a  | `new … ( … )`    |
|      | 函数调用        | 从左到右 | `… ( … )`        |
| 18   | new (无参数列表) | 从右到左 | `new …`          |
| 17   | 后置递增(运算符在后) | n/a  | `… ++`           |
|      | 后置递减(运算符在后) |      | `… --`           |
| 16   | 逻辑非         | 从右到左 | `! …`            |
|      | 按位非         |      | `~ …`            |
|      | 一元加法        |      | `+ …`            |
|      | 一元减法        |      | `- …`            |
|      | 前置递增        |      | `++ …`           |
|      | 前置递减        |      | `-- …`           |
|      | typeof      |      | `typeof …`       |
|      | void        |      | `void …`         |
|      | delete      |      | `delete …`       |
|      | await       |      | `await …`        |
| 15   | 幂           | 从右到左 | `… ** …`         |
| 14   | 乘法          | 从左到右 | `… * …`          |
|      | 除法          |      | `… / …`          |
|      | 取模(取余)      |      | `… % …`          |
| 13   | 加法          | 从左到右 | `… + …`          |
|      | 减法          |      | `… - …`          |
| 12   | 按位左移        | 从左到右 | `… << …`         |
|      | 按位右移        |      | `… >> …`         |
|      | 无符号右移       |      | `… >>> …`        |
| 11   | 小于          | 从左到右 | `… < …`          |
|      | 小于等于        |      | `… <= …`         |
|      | 大于          |      | `… > …`          |
|      | 大于等于        |      | `… >= …`         |
|      | in          |      | `… in …`         |
|      | instanceof  |      | `… instanceof …` |
| 10   | 等号          | 从左到右 | `… == …`         |
|      | 非等号         |      | `… != …`         |
|      | 全等号         |      | `… === …`        |
|      | 非全等号        |      | `… !== …`        |
| 9    | 按位与         | 从左到右 | `… & …`          |
| 8    | 按位异或        | 从左到右 | `… ^ …`          |
| 7    | 按位或         | 从左到右 | `… | …`          |
| 6    | 逻辑与         | 从左到右 | `… && …`         |
| 5    | 逻辑或         | 从左到右 | `… || …`         |
| 4    | 条件运算符       | 从右到左 | `… ? … : …`      |
| 3    | 赋值          | 从右到左 | `… = …`          |
|      |             |      | `… += …`         |
|      |             |      | `… -= …`         |
|      |             |      | `… *= …`         |
|      |             |      | `… /= …`         |
|      |             |      | `… %= …`         |
|      |             |      | `… <<= …`        |
|      |             |      | `… >>= …`        |
|      |             |      | `… >>>= …`       |
|      |             |      | `… &= …`         |
|      |             |      | `… ^= …`         |
|      |             |      | `… |= …`         |
| 2    | yield       | 从右到左 | `yield …`        |
|      | yield*      |      | `yield* …`       |
| 1    | 展开运算符       | n/a  | `...` …          |
| 0    | 逗号          | 从左到右 | `… , …`          |



```
优先级从高到底
1. ()  优先级最高 () > . > new
2. 一元运算符  ++   --  !
3. 算数运算符  先*  /  %   后 +   -
4. 关系运算符  >   >=   <   <=
5. 相等运算符   ==   !=    ===    !==
6. 逻辑运算符 先&&   后||  
7. 赋值运算符 =
```

```javascript
// 练习1：
4 >= 6 || '人' != '阿凡达' && !(12 * 2 == 144) && true;  // true
// 练习2：
var num = 10;
5 == num / 2 && (2 + 2 * num).toString() === '22';  // true
```

## 流程控制

> 代码的执行是过程化的,是从上到下从左到右依次执行的,但是有时候我们需要它执行某部分,不执行某部分,或者重复执行某部分,这些就是流程控制

- 顺序结构
  - 从上到下从左到右执行的代码就是顺序结构
  - 程序默认就是顺序执行
- 分支结构
  - 根据不同的情况，执行相应分支的代码
- 循环结构
  - 复合一定要求, 重复做一件事情

### 分支结构

#### if语句

语法结构

```javascript
// if
if (/* 条件表达式 */) {
  // 执行语句
}

// if - else
if (/* 条件表达式 */){
  // 成立执行语句
} else {
  // 否则执行语句
}

// if - else if - ... - [else]
if (/* 条件1 */){
  // 成立执行语句
} else if (/* 条件2 */){
  // 成立执行语句
} else if (/* 条件3 */){
  // 成立执行语句
} else {
  // 默认执行的语句
}  
```

#### 三元运算符(三元表达式)

```javascript
// 如果条件为 true 则执行并返回代码1, 为 false 时执行并返回代码2
条件 ? 代码1 : 代码2
是对if - else语句的一种简化写法
```

#### switch语句

+ 依次判断 表达式/变量 与 case 后面的常量的是否相等, 如果相等则执行对应 case 下的代码, 都不相等则执行 default 中的代码
+ **注意: switch语句中判断是否相等使用的 === 严格相等**

语法格式:

```javascript
switch (表达式/变量) {
  case 常量1:
    代码;
    break;
  case 常量2:
    代码;
    break;
  case 常量3:
    代码;
    break;
  …
  case 常量n:
    代码;
    break;
  default:
    代码;
    break;
}
```

特殊使用方法

```javascript
// break可以省略，如果省略，代码会继续执行下一个case
var days = 30
switch (month) {
  // 当 month 为以下值时, 天数为 31
  case 1:
  case 3:
  case 5:
  case 7:
  case 8:
  case 10:
  case 12:
    days = 31;
    break;
  // 为 2 时, 天数为 28 (默认平年)
  case 2:
    days = 28;
    break;
  // 其余值, 天数为 30
  default:
    days = 30;
    break;
}
```

### 隐式转换

#### 布尔类型的隐式转换

如果流程控制语句中的条件运行的结果不是布尔类型，那么流程控制语句会将结果自动转换成布尔类型

```javascript
// 结果是什么？
var a = !!'123';
```

### 循环结构

> 重复做一件事情。
>
> 在javascript中，循环语句有三种，while、do..while、for循环。

#### while语句

基本语法：

```javascript
// 当循环条件为true时，执行循环体，
// 当循环条件为false时，结束循环。
while (循环条件) {
  //循环体
}
```

#### do...while语句

> do..while循环和while循环非常像，二者经常可以相互替代，特殊:  do..while最少会执行一次循环体。

基础语法：

```javascript
do {
  // 循环体;
} while (循环条件);
```

#### for语句

> while和do...while一般用来解决无法确定次数的循环。for循环一般用在循环次数确定的时候

for循环语法：

```javascript
// for循环的表达式之间用的是;号分隔的，千万不要写成,
for (初始化表达式1; 判断表达式2; 自增表达式3) {
  // 循环体4
}
```

执行顺序：1243  ----  243   -----243(直到循环条件变成false)

#### continue和break

**只能用在循环语句中**

> break: 立即跳出整个循环，即循环结束，开始执行循环后面的内容（直接跳到大括号）
>
> continue: 立即跳出当前循环，继续下一次循环（跳到i++的地方）

#### 调试

调试的目的是确定错误的原因和位置，并解决错误

- 采用输出的方式调试JavaScript
  - alert()
  - console.log()
- 断点调试

> 断点调试是指自己在程序的某一行设置一个断点，程序运行到这一行就会停住，然后你可以控制程序一步一步的往下执行，在这个过程中可以看各个变量当前的值，出错的话，调试到出错的代码行即显示错误，停下。

- 调试步骤

```javascript
浏览器中按F12-->sources-->找到需要调试的文件-->在程序的某一行设置断点-->刷新页面进行调试
```

- 调试中的相关操作

```javascript
Watch: 监视，通过watch可以监视变量的值的变化，非常的常用。
F10: 程序单步执行，让程序一行一行的执行，这个时候，观察watch中变量的值的变化。
F8：跳到下一个断点处，如果后面没有断点了，则程序执行结束。
```

## 表达式和语句

### 表达式

> 一个表达式可以产生一个值，有可能是运算、函数调用、有可能是字面量。表达式可以放在任何需要值的地方。

### 语句

> 语句可以理解为一个行为，循环语句和判断语句就是典型的语句。一个程序有很多个语句组成，一般情况下;分割一个一个的语句

### 字面量

字面量表示如何表达一个值，一般除去表达式，给变量赋值时，等号右边都可以认为是字面量。

不需要运算 一眼就能看出是什么值的 就是字面量

数值字面量

```javascript
var num1 = 3;
var num2 = 5;
```

字符串字面量

```javascript
var str1 = '黑马程序员';
var str2 = "传智播客";
```

布尔字面量

```javascript
var b1 = true;
var b2 = false;
```